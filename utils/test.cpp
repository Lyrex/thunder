#include <iostream>
#include <cstdint>
#include <chrono>

#include "string.hpp"

int main( int argc, char** argv )
{
	namespace string_utils = thunder::utils::string;

	const std::string test_1 = "&lt;!doctypehtml&gt;&lt;htmlitemscope=&quot;&quot;itemtype=&quot;http://schema.org/WebPage&quot;lang=&quot;de&quot;&gt;&lt;head&gt;&lt;metacontent=&quot;/images/google_favicon_128.png&quot;itemprop=&quot;image&quot;&gt;&lt;title&gt;Google&lt;/title&gt;&lt;script&gt;(function(){window.google={kEI:&quot;rTBuU_PbL6X74QSStoDICw&quot;,getEI:function(a){for(varb;a&amp;&amp;(!a.getAttribute||!(b=a.getAttribute(&quot;eid&quot;)));)a=a.parentNode;returnb||google.kEI},https:function(){return&quot;https:&quot;==window.location.protocol},kEXPI:&quot;31216,4000116,4007661,4007830,4008142,4009033,4009641,4010806,4010858,4010899,4011228,4011258,4011679,4012373,4012504,4013414,4013591,4013723,4013758,4013787,4013823,4013941,4013967,4013979,4014016,4014093,4014237,4014431,4014515,4014636,4014671,4014789,4014810,4014813,4014991,4015119,4015155,4015234,4015260,4015339,4015519,4015550,4015587,4015635,4015638,4015640,4015772,4016043,4016127,4016283,4016309,4016327,4016363,4016367,4016371,4016487,4016703,4016730,4016800,4016815,4016824,4016855,4016933,4016976,4017055,4017261,4017278,4017280,4017284,4017294,4017612,4017633,4017639,4017669,4017681,4017694,4017710,4017711,4017742,4017800,4017818,4017899,4017913,4017922,8300012,8300015,8300030,8500165,8500222,8500240,8500252,8500255,8500264,8500272,8500306,8500314,8500325,8500332,8500364,8500389,8500394,10200002,10200012,10200029,10200038,10200040,10200048,10200053,10200066,10200083,10200120,10200134,10200136,10200155,10200157,10200159,10200164,10200176,10200211,10200215,10200221,10200226,10200231,10200242,10200246,10200250,10200254,10200256,10200261&quot;,kCSI:{e:&quot;31216,4000116,4007661,4007830,4008142,4009033,4009641,4010806,4010858,4010899,4011228,4011258,4011679,4012373,4012504,4013414,4013591,4013723,4013758,4013787,4013823,4013941,4013967,4013979,4014016,4014093,4014237,4014431,4014515,4014636,4014671,4014789,4014810,4014813,4014991,4015119,4015155,4015234,4015260,4015339,4015519,4015550,4015587,4015635,4015638,4015640,4015772,4016043,4016127,4016283,4016309,4016327,4016363,4016367,4016371,4016487,4016703,4016730,4016800,4016815,4016824,4016855,4016933,4016976,4017055,4017261,4017278,4017280,4017284,4017294,4017612,4017633,4017639,4017669,4017681,4017694,4017710,4017711,4017742,4017800,4017818,4017899,4017913,4017922,8300012,8300015,8300030,8500165,8500222,8500240,8500252,8500255,8500264,8500272,8500306,8500314,8500325,8500332,8500364,8500389,8500394,10200002,10200012,10200029,10200038,10200040,10200048,10200053,10200066,10200083,10200120,10200134,10200136,10200155,10200157,10200159,10200164,10200176,10200211,10200215,10200221,10200226,10200231,10200242,10200246,10200250,10200254,10200256,10200261&quot;,ei:&quot;rTBuU_PbL6X74QSStoDICw&quot;},authuser:0,ml:function(){},kHL:&quot;de&quot;,time:function(){return(newDate).getTime()},log:function(a,b,c,h,k){vard=newImage,f=google.lc,e=google.li,g=&quot;&quot;;d.onerror=d.onload=d.onabort=function(){deletef[e]};f[e]=d;c||-1!=b.search(&quot;&amp;ei=&quot;)||(g=&quot;&amp;ei=&quot;+google.getEI(h));c=c||&quot;/&quot;+(k||&quot;gen_204&quot;)+&quot;?atyp=i&amp;ct=&quot;+a+&quot;&amp;cad=&quot;+b+g+&quot;&amp;zx=&quot;+google.time();a=/^http:/i;a.test(c)&amp;&amp;google.https()?(google.ml(Error(&quot;GLMM&quot;),!1,{src:c}),deletef[e]):(d.src=c,google.li=e+1)},lc:[],li:0,y:{},x:function(a,b){google.y[a.id]=[a,b];return!1},load:function(a,b,c){google.x({id:a+l++},function(){google.load(a,b,c)})}};varl=0;})();(function(){google.sn=&quot;webhp&quot;;google.timers={};google.startTick=function(a,b){varf=google.time();google.timers[a]={t:{start:f},bfr:!!b};};google.tick=function(a,b,f){google.timers[a]||google.startTick(a);google.timers[a].t[b]=f||google.time()};google.startTick(&quot;load&quot;,!0);try{google.pt=window.gtbExternal&amp;&amp;window.gtbExternal.pageT();}catch(d){}})();var_gjwl=location;function_gjuc(){vara=_gjwl.href.indexOf(&quot;#&quot;);return0&lt;=a&amp;&amp;(a=_gjwl.href.substring(a+1),/(^|&amp;)q=/.test(a)&amp;&amp;-1==a.indexOf(&quot;#&quot;)&amp;&amp;!/(^|&amp;)cad=h($|&amp;)/.test(a))?(_gjwl.replace(&quot;/search?&quot;+a.replace(/(^|&amp;)fp=[^&amp;]*/g,&quot;&quot;)+&quot;&amp;cad=h&quot;),1):0}function_gjh(){!_gjuc()&amp;&amp;google.x({id:&quot;GJH&quot;},function(){google.nav&amp;&amp;google.nav.gjh&amp;&amp;google.nav.gjh()})};window._gjh&amp;&amp;_gjh();(function(){'usestrict';vark=this,m=Date.now||function(){return+newDate};vart=function(d,c){returnfunction(a){a||(a=window.event);returnc.call(d,a)}},v=&quot;undefined&quot;!=typeofnavigator&amp;&amp;/Macintosh/.test(navigator.userAgent),w=&quot;undefined&quot;!=typeofnavigator&amp;&amp;!/Opera/.test(navigator.userAgent)&amp;&amp;/WebKit/.test(navigator.userAgent),x={A:13,BUTTON:0,CHECKBOX:32,COMBOBOX:13,LINK:13,LISTBOX:13,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:13,RADIO:32,RADIOGROUP:32,RESET:0,SUBMIT:0,TAB:0,TABLIST:0,TREE:13,TREEITEM:13};varA=function(){this.s=[];this.i=[];this.o=[];this.v={};this.k=null;this.p=[];z(this,&quot;_custom&quot;)},B=&quot;undefined&quot;!=typeofnavigator&amp;&amp;/iPhone|iPad|iPod/.test(navigator.userAgent),C=/\\s*;\\s*/,E=function(d,c){returnfunction(a){vare,f,b=c;if(&quot;_custom&quot;==b){if(!a.detail||!a.detail._type)return;b=a.detail._type}e:{if(&quot;click&quot;==b&amp;&amp;(v&amp;&amp;a.metaKey||!v&amp;&amp;a.ctrlKey||2==a.which||null==a.which&amp;&amp;4==a.button||a.shiftKey))b=&quot;clickmod&quot;;else{varl=a.which||a.keyCode||a.key;w&amp;&amp;3==l&amp;&amp;(l=13);varg=a.srcElement||a.target;e=(g.getAttribute(&quot;role&quot;)||g.type||g.tagName).toUpperCase();varh=13==l||32==l,n;if(n=&quot;keydown&quot;==a.type)n=(g.getAttribute(&quot;role&quot;)||g.type||g.tagName).toUpperCase(),n=&quot;TEXT&quot;!=n&amp;&amp;&quot;TEXTAREA&quot;!=n&amp;&amp;&quot;PASSWORD&quot;!=n&amp;&amp;&quot;SEARCH&quot;!=n&amp;&amp;(&quot;COMBOBOX&quot;!=n||&quot;INPUT&quot;!=g.tagName.toUpperCase())&amp;&amp;!g.isContentEditable&amp;&amp;!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey);vars=&quot;INPUT&quot;==g.tagName.toUpperCase()&amp;&amp;!g.type;f=0==x[e]%l;l=!(einx)&amp;&amp;13==l;g=!!a.originalTarget&amp;&amp;a.originalTarget!=g;n&amp;&amp;h&amp;&amp;((f||l)&amp;&amp;!s||g)&amp;&amp;(b=&quot;clickkey&quot;)}g=a.srcElement||a.target;h=D(b,a,g,&quot;&quot;,null);for(n=g;n&amp;&amp;n!=this;n=n.__owner||n.parentNode){e=s=n;f=b;l=e.__jsaction;if(!l){l={};e.__jsaction=l;varp=void0,p=null;&quot;getAttribute&quot;ine&amp;&amp;(p=e.getAttribute(&quot;jsaction&quot;));if(p){e=p.split(C);for(varp=0,J=e?e.length:0;p&lt;J;p++){varq=e[p];if(q){varu=q.indexOf(&quot;:&quot;),y=-1!=u,K=y?q.substr(0,u).replace(/^\\s+/,&quot;&quot;).replace(/\\s+$/,&quot;&quot;):&quot;click&quot;,q=y?q.substr(u+1).replace(/^\\s+/,&quot;&quot;).replace(/\\s+$/,&quot;&quot;):q;l[K]=q}}}}&quot;clickkey&quot;==f?f=&quot;click&quot;:&quot;click&quot;!=f||l.click||(f=&quot;clickonly&quot;);e=f;f=l[f]||&quot;&quot;;h=D(e,a,g,f||&quot;&quot;,s,h.timeStamp);if(f){(b=&quot;clickkey&quot;==b)&amp;&amp;!(b=32==(a.which||a.keyCode||a.key))&amp;&amp;(b=a.srcElement||a.target,b=&quot;BUTTON&quot;==b.tagName.toUpperCase()||Boolean(b.getAttribute(&quot;role&quot;)&amp;&amp;&quot;BUTTON&quot;==b.getAttribute(&quot;role&quot;).toUpperCase())||!!b.type);b&amp;&amp;(b=a,b.preventDefault?b.preventDefault():b.returnValue=!1);b=h;breake}}h.action=&quot;&quot;;h.actionElement=null;b=h}d.k&amp;&amp;(h=D(b.eventType,b.event,b.targetElement,b.action,b.actionElement,b.timeStamp),&quot;clickonly&quot;==h.eventType&amp;&amp;(h.eventType=&quot;click&quot;),d.k(h,!0));if(b.actionElement)if(&quot;A&quot;==b.actionElement.tagName&amp;&amp;&quot;click&quot;==b.eventType&amp;&amp;(a.preventDefault?a.preventDefault():a.returnValue=!1),d.k)d.k(b);else{varr;if((h=k.document)&amp;&amp;!h.createEvent&amp;&amp;h.createEventObject)try{r=h.createEventObject(a)}catch(O){r=a}elser=a;b.event=r;d.p.push(b)}}},D=function(d,c,a,e,f,b){return{eventType:d,event:c,targetElement:a,action:e,actionElement:f,timeStamp:b||m()}},F=function(d,c){returnfunction(a){vare=d,f=c,b=!1;&quot;mouseenter&quot;==e?e=&quot;mouseover&quot;:&quot;mouseleave&quot;==e&amp;&amp;(e=&quot;mouseout&quot;);if(a.addEventListener){if(&quot;focus&quot;==e||&quot;blur&quot;==e||&quot;error&quot;==e||&quot;load&quot;==e)b=!0;a.addEventListener(e,f,b)}elsea.attachEvent&amp;&amp;(&quot;focus&quot;==e?e=&quot;focusin&quot;:&quot;blur&quot;==e&amp;&amp;(e=&quot;focusout&quot;),f=t(a,f),a.attachEvent(&quot;on&quot;+e,f));return{B:e,w:f,C:b}}},z=function(d,c){if(!d.v.hasOwnProperty(c)&amp;&amp;&quot;mouseenter&quot;!=c&amp;&amp;&quot;mouseleave&quot;!=c){vara=E(d,c),e=F(c,a);d.v[c]=a;d.s.push(e);for(a=0;a&lt;d.i.length;++a){varf=d.i[a];f.k.push(e.call(null,f.i))}&quot;click&quot;==c&amp;&amp;z(d,&quot;keydown&quot;)}};A.prototype.w=function(d){returnthis.v[d]};varN=function(d){varc=G,a=newH(d);e:{for(vare=0;e&lt;c.i.length;e++)if(I(c.i[e].i,d)){d=!0;breake}d=!1}if(d)c.o.push(a);else{L(c,a);c.i.push(a);a=c.o.concat(c.i);d=[];for(vare=[],f=0;f&lt;c.i.length;++f){varb=c.i[f];if(M(b,a)){d.push(b);for(varl=0;l&lt;b.k.length;++l){varg=b.i,h=b.k[l];g.removeEventListener?g.removeEventListener(h.B,h.w,h.C):g.detachEvent&amp;&amp;g.detachEvent(&quot;on&quot;+h.B,h.w)}b.k=[]}elsee.push(b)}for(f=0;f&lt;c.o.length;++f)b=c.o[f],M(b,a)?d.push(b):(e.push(b),L(c,b));c.i=e;c.o=d}},L=function(d,c){vara=c.i;B&amp;&amp;(a.style.cursor=&quot;pointer&quot;);for(a=0;a&lt;d.s.length;++a)c.k.push(d.s[a].call(null,c.i))},H=function(d){this.i=d;this.k=[]},M=function(d,c){for(vara=0;a&lt;c.length;++a)if(c[a].i!=d.i&amp;&amp;I(c[a].i,d.i))return!0;return!1},I=function(d,c){for(;d!=c&amp;&amp;c.parentNode;)c=c.parentNode;returnd==c};varG=newA;N(window.document.documentElement);z(G,&quot;click&quot;);z(G,&quot;focus&quot;);z(G,&quot;focusin&quot;);z(G,&quot;blur&quot;);z(G,&quot;focusout&quot;);z(G,&quot;error&quot;);z(G,&quot;load&quot;);z(G,&quot;change&quot;);z(G,&quot;input&quot;);z(G,&quot;keyup&quot;);z(G,&quot;keydown&quot;);z(G,&quot;keypress&quot;);z(G,&quot;mousedown&quot;);z(G,&quot;mouseout&quot;);z(G,&quot;mouseover&quot;);z(G,&quot;mouseup&quot;);z(G,&quot;speech&quot;);window.google.jsad=function(d){varc=G;c.k=d;c.p&amp;&amp;(0&lt;c.p.length&amp;&amp;d(c.p),c.p=null)};window.google.jsac=function(d){N(d)};}).call(window);(function(){'usestrict';varf=this,g=function(d,c){vara=d.split(&quot;.&quot;),b=f;a[0]inb||!b.execScript||b.execScript(&quot;var&quot;+a[0]);for(vare;a.length&amp;&amp;(e=a.shift());)a.length||void0===c?b[e]?b=b[e]:b=b[e]={}:b[e]=c};varh=[],k=[];g(&quot;google.jsc.cc&quot;,h);g(&quot;google.jsc.xx&quot;,k);g(&quot;google.jsc.c&quot;,function(d,c,a){h.push([d,c,a])});g(&quot;google.jsc.d&quot;,function(d){for(varc=0,a;a=h[c];)d==a[1]?h.splice(c,1):c++});g(&quot;google.jsc.x&quot;,function(d){k.push(d)});}).call(window);google.arwt=function(a){a.href=document.getElementById(a.id.substring(1)).href;return!0};&lt;/script&gt;&lt;style&gt;[dir='ltr'],[dir='rtl']{unicode-bidi:-moz-isolate;unicode-bidi:isolate}bdo[dir='ltr'],bdo[dir='rtl']{unicode-bidi:bidi-override;unicode-bidi:-moz-isolate-override;unicode-bidi:isolate-override}@-moz-keyframesgb__a{0%{opacity:0}50%{opacity:1}}@keyframesgb__a{0%{opacity:0}50%{opacity:1}}.gb_Fb{display:none!important}.gb_7b{left:0;min-width:1114px;position:absolute;top:0;-moz-user-select:-moz-none;width:100%}.gb_Eb{font:13px/27pxArial,sans-serif;position:relative;height:60px;width:100%}#gba{height:60px}#gba.gb_8b{height:90px}.gb_Eb&gt;.gb_e{height:60px;line-height:58px;vertical-align:middle}.gb_Eb::before{background:#e5e5e5;bottom:0;content:'';display:none;height:1px;left:0;position:absolute;right:0}.gb_Eb{background:#f1f1f1}.gb_9b.gb_Eb{background:#fff}.gb_9b.gb_Eb::before{display:none}.gb_i.gb_Eb,.gb_j.gb_Eb{background:transparent}.gb_i.gb_Eb::before{background:#e1e1e1;background:rgba(0,0,0,.12)}.gb_j.gb_Eb::before{background:#333;background:rgba(255,255,255,.2)}.gb_e{display:inline-block;flex:00auto}.gb_e.gb_ac{float:right;order:1}.gb_bc{white-space:nowrap;display:-webkit-flex;display:flex;margin-left:0!important;margin-right:0!important}.gb_e{margin-left:0!important;margin-right:0!important}.gb_Aa{background-image:url('//ssl.gstatic.com/gb/images/v1_b444d4f7.png');background-size:112px1828px}@media(min-resolution:1.25dppx),(-webkit-min-device-pixel-ratio:1.25),(min-device-pixel-ratio:1.25){.gb_Aa{background-image:url('//ssl.gstatic.com/gb/images/v2_0b3bd130.png')}}";

	std::vector<std::string> res;

	auto start_time = std::chrono::high_resolution_clock::now();
	for ( int i = 0; i < 1000; i++ )
		res = string_utils::string_between( test_1, "(", ")", false );


	auto end_time = std::chrono::high_resolution_clock::now();

	//for ( size_t i = 0; i < res.size(); i++ )
	//	std::cout << res.at( i ) << std::endl;

	std::cout << "thunder::utils::string::string_between took " << std::chrono::duration_cast<std::chrono::milliseconds>( end_time - start_time ).count() << "ms" << std::endl;

	std::cin.get();

	return 0;
}
